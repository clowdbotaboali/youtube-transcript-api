# دليل تشغيل الباك المحلي (واجهة Vercel + API محلي)

هذا المشروع يدعم وضع تشغيل هجين:

- الواجهة الأمامية تكون منشورة (مثل Vercel).
- الباك إند يعمل محليًا على جهاز المستخدم لتجاوز قيود المنطقة أو قيود مزود الـ API.

## 1) ويندوز (الطريقة الموصى بها)

1. حمّل ملف `start-backend.cmd` من صفحة الإرشادات داخل التطبيق أو من جذر المشروع.
2. شغّل الملف `start-backend.cmd` بالنقر المزدوج.
3. انتظر حتى تظهر رسالة تشغيل الخادم على `http://localhost:5000`.
4. اترك نافذة الطرفية مفتوحة أثناء الاستخدام.
5. من داخل التطبيق:
   - اضغط `فحص localhost:5000`
   - ثم اضغط `تفعيل Local Server`

ملف التشغيل يعمل بطريقتين:

- إذا شغلته من داخل مجلد المشروع: يشغّل `backend` مباشرة.
- إذا شغلته كملف مستقل: يقوم بعمل clone/update للمشروع داخل:
  - `%USERPROFILE%\YoutubeTranscript2-local`
  - ثم يشغّل الباك إند من هناك.

## 2) أندرويد (Termux)

نفّذ الأوامر التالية داخل Termux:

```bash
pkg update -y
pkg install -y nodejs git
git clone https://github.com/clowdbotaboali/youtube-transcript-api.git
cd youtube-transcript-api/backend
npm install
npm run dev
```

بعدها داخل التطبيق:

1. افتح تبويب Android/Termux.
2. اضغط فحص الخادم المحلي.
3. فعّل وضع `Local Server`.

## 3) المفاتيح المطلوبة

أضف المفاتيح من صفحة الإعدادات داخل التطبيق:

- `Groq API Key`
- `TranscriptAPI Key` (عند الحاجة)

المفاتيح تُخزّن محليًا داخل المتصفح (localStorage) على نفس الجهاز.

## 4) ملاحظات مهمة

- `localhost` خاص بكل جهاز على حدة:
  - إذا فتحت الواجهة على اللابتوب، يجب تشغيل الباك على نفس اللابتوب.
  - إذا فتحت الواجهة على الهاتف، يجب تشغيل الباك على نفس الهاتف (Termux).
- إذا لم يكن الباك المحلي شغّالًا، ستظهر أخطاء اتصال مثل "فشل الاتصال بالخادم".
